<?xml version='1.0' encoding='utf-8'?>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta name="generator" content="HTML Tidy for Linux (vers 7 December 2008), see www.w3.org"/>
<meta http-equiv="CONTENT-TYPE" content="text/html; charset=utf-8"/>

<meta name="GENERATOR" content="OpenOffice.org 3.0 (Unix)"/>
<meta name="CREATED" content="20151109;11564100"/>
<meta name="CHANGED" content="20151129;1342700"/>
<meta name="Info_1" content=""/>
<meta name="Info_2" content=""/>
<meta name="Info_3" content=""/>
<meta name="Info_4" content=""/>
<title>Essential Python</title>
<meta content="http://www.w3.org/1999/xhtml; charset=utf-8" http-equiv="Content-Type"/><link href="stylesheet.css" type="text/css" rel="stylesheet"/><style type="text/css">
		@page { margin-bottom: 5.000000pt; margin-top: 5.000000pt; }</style></head>
<body dir="ltr" class="calibre">
<h1 lang="en-GB" class="western3" id="calibre_pb_28"><a id="Appendix_4__252525E2_25252580_"></a> 30. Appendix 4 – Simple
Notepad 1</h1>
<p lang="en-GB" class="c5"><span class="c6"># File:
simpleNotepad1.py</span></p>
<p lang="en-GB" class="c5"><span class="c6">import tkinter as
tk</span></p>
<p lang="en-GB" class="c5"><span class="c6">from tkinter import
filedialog</span></p>
<p lang="en-GB" class="c5"><span class="c6">from tkinter import
messagebox</span></p>
<p lang="en-GB" class="c7"> <br class="calibre1"/></p>
<p lang="en-GB" class="c7"> <br class="calibre1"/></p>
<p lang="en-GB" class="c5"><span class="c6">class
Application(tk.Frame):</span></p>
<p lang="en-GB" class="c5"><span class="c6">def __init__(self,
master=None):</span></p>
<p lang="en-GB" class="c5"><span class="c6">tk.Frame.__init__(self, master)</span></p>
<p lang="en-GB" class="c7"> <br class="calibre1"/></p>
<p lang="en-GB" class="c5"><span class="c6">self.grid()</span></p>
<p lang="en-GB" class="c5"><span class="c6"># Create the text
widget</span></p>
<p lang="en-GB" class="c5"><span class="c6">self.editText =
tk.Text(self, height=20, width=80)</span></p>
<p lang="en-GB" class="c5"><span class="c6">self.editText.grid(row=0, column=0)</span></p>
<p lang="en-GB" class="c7"> <br class="calibre1"/></p>
<p lang="en-GB" class="c5"><span class="c6"># create top level
menu widget</span></p>
<p lang="en-GB" class="c5"><span class="c6">top =
self.winfo_toplevel()</span></p>
<p lang="en-GB" class="c5"><span class="c6">self.menuBar =
tk.Menu(top)</span></p>
<p lang="en-GB" class="c5"><span class="c6">top.config(menu=self.menuBar)</span></p>
<p lang="en-GB" class="c5"><span class="c6"># create file
menu</span></p>
<p lang="en-GB" class="c5"><span class="c6">self.fileMenu =
tk.Menu(self.menuBar)</span></p>
<p lang="en-GB" class="c5"><span class="c6">self.menuBar.add_cascade(label='File',
menu=self.fileMenu)</span></p>
<p lang="en-GB" class="c5"><span class="c6">self.fileMenu.add_command(label='Open...',
command=self.load)</span></p>
<p lang="en-GB" class="c5"><span class="c6">self.fileMenu.add_command(label='Save as...',
command=self.save)</span></p>
<p lang="en-GB" class="c5"><span class="c6">self.fileMenu.add_command(label='Exit',
command=self.quit)</span></p>
<p lang="en-GB" class="c5"><span class="c6"># create help
menu</span></p>
<p lang="en-GB" class="c5"><span class="c6">self.helpMenu =
tk.Menu(self.menuBar, tearoff=0)</span></p>
<p lang="en-GB" class="c5"><span class="c6">self.menuBar.add_cascade(label='Help',
menu=self.helpMenu)</span></p>
<p lang="en-GB" class="c5"><span class="c6">self.helpMenu.add_command(label='About',
command=self.help)</span></p>
<p lang="en-GB" class="c7"> <br class="calibre1"/></p>
<p lang="en-GB" class="c5"><span class="c6">def
load(self):</span></p>
<p lang="en-GB" class="c5"><span class="c6">filename =
filedialog.askopenfilename(title='Open my File',
defaultextension='.txt', filetypes=[('Text files', '*.txt'), ('All
files', '*.*')])</span></p>
<p lang="en-GB" class="c5"><span class="c6"># check a file name
has been selected</span></p>
<p lang="en-GB" class="c5"><span class="c6">if filename !=
'':</span></p>
<p lang="en-GB" class="c5"><span class="c6"># open a file and
read</span></p>
<p lang="en-GB" class="c5"><span class="c6">myfile =
open(filename, "r")</span></p>
<p lang="en-GB" class="c5"><span class="c6">lines =
myfile.read()</span></p>
<p lang="en-GB" class="c5"><span class="c6"># close the
file</span></p>
<p lang="en-GB" class="c5"><span class="c6">myfile.close()</span></p>
<p lang="en-GB" class="c5"><span class="c6">try:</span></p>
<p lang="en-GB" class="c5"><span class="c6">self.editText.delete(1.0, tk.END)</span></p>
<p lang="en-GB" class="c5"><span class="c6">except
Exception:</span></p>
<p lang="en-GB" class="c5"><span class="c6">pass</span></p>
<p lang="en-GB" class="c5"><span class="c6"># Add the text to the
screen</span></p>
<p lang="en-GB" class="c5"><span class="c6">self.editText.insert(tk.END, lines)</span></p>
<p lang="en-GB" class="c7"> <br class="calibre1"/></p>
<p lang="en-GB" class="c5"><span class="c6">def
save(self):</span></p>
<p lang="en-GB" class="c5"><span class="c6">myfile =
filedialog.asksaveasfile(title='Save my File',
defaultextension='.txt', filetypes=[('Text files', '*.txt'), ('All
files', '*.*')])</span></p>
<p lang="en-GB" class="c5"><span class="c6"># check a file name
has been selected</span></p>
<p lang="en-GB" class="c5"><span class="c6">if myfile !=
'':</span></p>
<p lang="en-GB" class="c5"><span class="c6">textstr =
''</span></p>
<p lang="en-GB" class="c5"><span class="c6">try:</span></p>
<p lang="en-GB" class="c5"><span class="c6">textstr =
self.editText.get(1.0, tk.END)</span></p>
<p lang="en-GB" class="c5"><span class="c6">except
Exception:</span></p>
<p lang="en-GB" class="c5"><span class="c6">pass</span></p>
<p lang="en-GB" class="c5"><span class="c6">myfile.write(textstr[0:-1])</span></p>
<p lang="en-GB" class="c5"><span class="c6"># close the
file</span></p>
<p lang="en-GB" class="c5"><span class="c6">myfile.close()</span></p>
<p lang="en-GB" class="c7"> <br class="calibre1"/></p>
<p lang="en-GB" class="c5"><span class="c6">def
help(self):</span></p>
<p lang="en-GB" class="c5"><span class="c6">messagebox.showinfo('About', 'Simple Notepad Program\nby
Essential Python')</span></p>
<p lang="en-GB" class="c7"> <br class="calibre1"/></p>
<p lang="en-GB" class="c7"> <br class="calibre1"/></p>
<p lang="en-GB" class="c5"><span class="c6"># Create the
form</span></p>
<p lang="en-GB" class="c5"><span class="c6">form =
Application()</span></p>
<p lang="en-GB" class="c5"><span class="c6"># set the form
title</span></p>
<p lang="en-GB" class="c5"><span class="c6">form.master.title('tkinter Notepad')</span></p>
<p lang="en-GB" class="c5"><span class="c6">form.mainloop()</span></p>
<p lang="en-GB" class="western"><br class="calibre1"/>
<br class="calibre1"/></p>
<p lang="en-GB" class="western"><br class="calibre1"/>
<br class="calibre1"/></p>
<p lang="en-GB" class="western"><br class="calibre1"/>
<br class="calibre1"/></p>
<p lang="en-GB" class="western"><br class="calibre1"/>
<br class="calibre1"/></p>
</body>
</html>
